<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-11-01 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Thomas Zueblin" />
    <meta name="Date-Creation-yyyymmdd" content="20111222" />
    <meta name="Date-Revision-yyyymmdd" content="20141101" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Trema Maven Plugin &#x2013; Export to Android String XML files</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    
    
  
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
    
    <a href="http://github.com/netceteragroup/trema-maven">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>trema-maven-plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-11-01
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.2.1-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="../plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                
      <li>
  
                          <a href="../usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="../examples/export-to-properties.html" title="Export to Java Properties">
          <i class="none"></i>
        Export to Java Properties</a>
            </li>
                
      <li>
  
                          <a href="../examples/export-to-json.html" title="Export to JSON files">
          <i class="none"></i>
        Export to JSON files</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Export to Android xml</a>
          </li>
                
      <li>
  
                          <a href="../examples/multiple-executions.html" title="Multiple executions of a goal">
          <i class="none"></i>
        Multiple executions of a goal</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                  
      <li>
  
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Export_to_Android_consumable_XML_files"></a>Export to Android consumable XML files</h2>
<p>The <a href="../exportAndroid-mojo.html">trema:exportAndroid</a> goal exports a Trema database into XML files suitable to be used in Android applications. This goal is available as of version 1.1.6.1 of the Trema Maven Plugin.</p>
<p>A file for each language is created which looks like this:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;!-- Generated file - do not edit --&gt;
&lt;resources&gt;
  &lt;string name=&quot;helloworld&quot;&gt;Hallo Welt!&lt;/string&gt;
  &lt;string name=&quot;byeworld&quot;&gt;Tsch&#xfffd;ss &amp;amp; bis bald!&lt;/string&gt;
&lt;/resources&gt;</pre></div>
<p>For more information about the android resources file format see <a class="externalLink" href="http://developer.android.com/guide/topics/resources/string-resource.html">http://developer.android.com/guide/topics/resources/string-resource.html</a></p>
<p><b>Important</b></p>
<ul>
<li>String Arrays and Quantity Strings (Plurals) as described on the android page above are not supported, only simple Strings.</li>
<li>Android is more restrictive about the keys that can be used for texts. Allowed keys are [a-zA-Z_][a-zA-Z0-9_]*. This rule is checked during the exportAndroid goal, and violations will cause the build to fail. Note that as of version 1.1.8 dots (.) and hyphens (-) are also allowed in keys and are converted to underscores (_) before the above rule is checked.</li>
<li>The goal is only available through the trema-maven-plugin, it is NOT available in the eclipse plugin and the commandline interface</li>
<li>Escaping: The following characters are replaced with corresponding character entities. Note that since this is no real XML escaping, the output string.xml file is potentially not valid xml. However this is explicitly allowed by Android.</li></ul>
<div class="source">
<pre>    ' is replaced with \\&amp;#039; 
    
    \' is replaced with \\&amp;#039; 
    
    &amp; is replaced with &amp;amp;</pre></div>
<p>The snippet below shows a minimal configuration needed to export the Trema database (*.trm file) into several Android string resource XML files:</p>
<div class="source">
<pre>&lt;build&gt;
  &lt;plugins&gt;
    ...
    &lt;plugin&gt;
      &lt;groupId&gt;ch.netcetera.nca-236-0&lt;/groupId&gt;
      &lt;artifactId&gt;trema-maven-plugin&lt;/artifactId&gt;      
      &lt;executions&gt;
        &lt;execution&gt;        
          &lt;goals&gt;
            &lt;goal&gt;exportAndroid&lt;/goal&gt;
          &lt;/goals&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;      
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</pre></div>
<p>The following defaults apply here:</p>
<ul>
<li>The goal exportAndroid is executed during the process-sources phase of the build</li>
<li>The path to the trema database (.trm file) is expected to be: ${project.basedir}/src/main/resources/text.trm</li>
<li>all languages are exported</li>
<li>all states are exported</li>
<li>The following filenames are used for the generated xml files: ${project.build.directory}/generated/texts/values-&lt;language&gt;\strings.xml</li></ul>
<p>In case the above defaults are not suitable, the goal can be configured. The following sample shows a more sophisticated configuration of the goal.</p>
<div class="source">
<pre>&lt;build&gt;
  &lt;plugins&gt;
    ...
    &lt;plugin&gt;
      &lt;groupId&gt;ch.netcetera.nca-236-0&lt;/groupId&gt;
      &lt;artifactId&gt;trema-maven-plugin&lt;/artifactId&gt;      
      &lt;executions&gt;
        &lt;execution&gt;
          &lt;goals&gt;
            &lt;goal&gt;exportAndroid&lt;/goal&gt;
          &lt;/goals&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;
      &lt;configuration&gt;
        &lt;tremaFile&gt;${project.basedir}/src/main/resources/android/text.trm&lt;/tremaFile&gt;
        &lt;exportPath&gt;${project.build.directory}/generated/android-resources/&lt;/exportPath&gt;
        &lt;defaultlanguage&gt;de&lt;/defaultlanguage&gt;    
      &lt;/configuration&gt;
    &lt;/plugin&gt; 
    ...
  &lt;/plugins&gt;
&lt;/build&gt;</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://www.netcetera.com">Netcetera</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>